<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Huangkai,huankai"><title>Thymeleaf 教程 | HuangkaiのBlog</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Thymeleaf 教程</h1><a id="logo" href="/.">HuangkaiのBlog</a><p class="description">学而不思则罔 思而不学则殆</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Thymeleaf 教程</h1><div class="post-meta"><a href="/2018/02/22/Thymeleaf_01/#comments" class="comment-count"></a><p><span class="date">Feb 22, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>Thymeleaf 是一个服务器端 Java 模板引擎，能够处理 HTML、XML、CSS、JAVASCRIPT 等模板文件。Thymeleaf 模板可以直接当作静态原型来使用，它主要目标是为开发者的开发工作流程带来优雅的自然模板，也是 Java 服务器端 HTML5 开发的理想选择。</p>
<h1 id="1-创建模板文件"><a href="#1-创建模板文件" class="headerlink" title="1. 创建模板文件"></a>1. 创建模板文件</h1><p>创建一个 HTML 模板文件：</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Index Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span> /&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;message&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>Welcome to BeiJing!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>通过<html xmlns:th="http://www.thymeleaf.org">引入 Thymeleaf 命名空间。th:text用于处理p标签体的文本内容。该模板文件直接在任何浏览器中正确显示，浏览器会自动忽略它们不能理解的属性th:text。但这不是一个真正有效的 HTML5 文档，因为 HTML5 规范是不允许使用th:*这些非标准属性的。我们可以切换到 Thymeleaf 的data-th-*语法，以此来替换th:*语法：</html></p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Index Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span> /&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">data-th-text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;message&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>Welcome to BeiJing!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>HTML5 规范是允许data-*这样自定义的属性的。th:*和data-th-*这两个符号是完全等效且可以互换的。但为了简单直观和代码的紧凑性，本文采用th:*的表示形式。</p>
<h1 id="2-标准表达式语法"><a href="#2-标准表达式语法" class="headerlink" title="2. 标准表达式语法"></a>2. 标准表达式语法</h1><p>Thymeleaf 提供了非常丰富的标准表达式语法，总共有 8 大类：</p>
<ul>
<li>简单表达式</li>
<li>字面值</li>
<li>文本操作</li>
<li>算术运算</li>
<li>布尔运算</li>
<li>比较和相等</li>
<li>条件运算</li>
<li>无操作符</li>
</ul>
<h2 id="2-1-简单表达式"><a href="#2-1-简单表达式" class="headerlink" title="2.1 简单表达式"></a>2.1 简单表达式</h2><table>
<thead>
<tr>
<th style="text-align:center">语法</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">描述</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">${…}</td>
<td style="text-align:center">Variable Expressions</td>
<td style="text-align:center">变量表达式</td>
<td style="text-align:center">取出上下文变量的值</td>
</tr>
<tr>
<td style="text-align:center">*{…}</td>
<td style="text-align:center">Selection Variable Expressions</td>
<td style="text-align:center">选择变量表达式</td>
<td style="text-align:center">取出选择的对象的属性值</td>
</tr>
<tr>
<td style="text-align:center">#{…}</td>
<td style="text-align:center">Message Expressions</td>
<td style="text-align:center">消息表达式</td>
<td style="text-align:center">使文字消息国际化，I18N</td>
</tr>
<tr>
<td style="text-align:center">@{…}</td>
<td style="text-align:center">Link URL Expressions</td>
<td style="text-align:center">链接表达式</td>
<td style="text-align:center">用于表示各种超链接地址</td>
</tr>
<tr>
<td style="text-align:center">~{…}</td>
<td style="text-align:center">Fragment Expressions</td>
<td style="text-align:center">片段表达式</td>
<td style="text-align:center">引用一段公共的代码片段</td>
</tr>
</tbody>
</table>
<h3 id="2-1-1-…"><a href="#2-1-1-…" class="headerlink" title="2.1.1 ${…}"></a>2.1.1 ${…}</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(<span class="string">"/standard-expression-syntax/variables"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">String</span> variables(ModelMap model, HttpSession session) &#123;</span><br><span class="line">    model.put(<span class="string">"now"</span>, <span class="literal">new</span> <span class="built_in">Date</span>());</span><br><span class="line">    model.put(<span class="string">"message"</span>, <span class="string">"Welcome to BeiJing!"</span>);</span><br><span class="line">    session.setAttribute(<span class="string">"user"</span>, <span class="literal">new</span> User(<span class="string">"test"</span>, <span class="string">"男"</span>, <span class="number">24</span>));</span><br><span class="line">    <span class="params">...</span> <span class="params">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过变量表达式${}取出上下文环境中的message变量：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- Welcome to BeiJing! --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;message&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>它相当于：<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.getVariable(<span class="string">"message"</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-2-…"><a href="#2-1-2-…" class="headerlink" title="2.1.2 *{…}"></a>2.1.2 *{…}</h3><p>变量表达式${}是面向整个上下文的，而选择变量表达式*{}的上下文是父标签（th:object）所选择的对象：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> <span class="selector-tag">th</span>:object=<span class="string">"$&#123;session.user&#125;"</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"*&#123;name&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"*&#123;sex&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"*&#123;age&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>它相当于：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;session.user.name&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;session.user.sex&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;session.user.age&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>如果对象没有被选择，那么，*{}和${}表达式所达到的效果是完全相同的：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"*&#123;session.user.name&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;session.user.name&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-3-…"><a href="#2-1-3-…" class="headerlink" title="2.1.3 #{…}"></a>2.1.3 #{…}</h3><p>消息表达式可用于国际化文字信息。首先我们来了解一下 i18n 资源文件的命名规则：</p>
<ul>
<li>basename.properties</li>
<li>basename_language.properties</li>
<li>basename_language_country.properties</li>
</ul>
<p>basename 是自定义的资源文件名称，language和country必须是 Java 支持的语言和国家。basename.properties是缺省加载的资源文件，当客户端根据本地语言查找不到相关的资源文件时，则使用该配置文件。</p>
<p>创建文件 src/main/resources/messages.properties，内容如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">welcome<span class="selector-class">.message</span> = 北京欢迎你！</span><br></pre></td></tr></table></figure></p>
<p>创建文件src/main/resources/messages_en_US.properties，内容如下：<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">welcome.<span class="keyword">message</span> = Welcome <span class="keyword">to</span> BeiJing!</span><br></pre></td></tr></table></figure></p>
<p>messages是 Spring Boot 加载资源文件默认采用的名称（basename），如果你所使用的资源文件名称不是以messages命名或所使用的资源文件不是在src/main/resources根目录，你可以通过spring.messages.basename属性来做具体的配置。如，资源文件messages.properties和messages_en_US.properties假设它们所在的目录位置是src/main/resources/i18n。</p>
<p>application.properties 配置示例：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring<span class="selector-class">.messages</span><span class="selector-class">.basename</span>:i18n/messages</span><br></pre></td></tr></table></figure></p>
<p>application.yml 配置示例：<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">spring</span></span><br><span class="line">  messages</span><br><span class="line">    <span class="keyword">basename</span>: i18n/messages</span><br></pre></td></tr></table></figure></p>
<p>静态文本消息示例：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 北京欢迎你！ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"#</span></span></span><span class="template-variable">&#123;welcom.message&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>消息表达式#{}是不允许直接处理非静态的文本消息的，但是你可以在资源文件中通过使用占位符{}来处理非静态的文本消息：<br>messages.properties 配置示例：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">welcome<span class="selector-class">.user</span><span class="selector-class">.message</span> = &#123;<span class="number">0</span>&#125;, 北京欢迎你！</span><br></pre></td></tr></table></figure>
<p>messages_en_US.properties 配置示例：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">welcome<span class="selector-class">.user</span><span class="selector-class">.message</span> = &#123;<span class="number">0</span>&#125;, Welcome to BeiJing!</span><br></pre></td></tr></table></figure></p>
<p>非静态文本消息，以参数的形式传递变量的值：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- test, 北京欢迎你！ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"#</span></span></span><span class="template-variable">&#123;welcome.user.message($&#123;session.user.name&#125;</span><span class="xml"><span class="tag"><span class="string">)&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-4-…"><a href="#2-1-4-…" class="headerlink" title="2.1.4 @{…}"></a>2.1.4 @{…}</h3><p>链接表达式@{}是专门用来处理 URL 链接地址的。<br>绝对地址示例：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- https://huankai.github.io --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-variable">&#123;https://huankai.github.io&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>页面相对地址示例：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- commons/base.html --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-variable">&#123;commons/base.html&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>上下文相对地址（相对于当前的服务）示例：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- /css/mian.css --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-tag">&#123;/<span class="name">css</span>/mian.css&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>服务器相对地址（相对于部署在同一个服务器中的不同服务）示例：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- /image/upload --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-variable">&#123;~/image/upload&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>参数使用示例：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- /css/mian.css?v=1.0 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-tag">&#123;/<span class="name">css</span>/mian.css(v=1.0)&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- /user/order?username=fanlychie --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-tag">&#123;/<span class="name">user</span>/order(username=$&#123;session.user.name&#125;</span><span class="xml"><span class="tag"><span class="string">)&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- /user/order?username=fanlychie&amp;status=PAIED --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-tag">&#123;/<span class="name">user</span>/order(username=$&#123;session.user.name&#125;</span><span class="xml"><span class="tag"><span class="string">,status='PAIED')&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- /user/fanlychie/info --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"@</span></span></span><span class="template-tag">&#123;/<span class="name">user</span>/&#123;username&#125;</span><span class="xml"><span class="tag"><span class="string">/info(username=$</span></span></span><span class="template-variable">&#123;session.user.name&#125;</span><span class="xml"><span class="tag"><span class="string">)&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-5-…"><a href="#2-1-5-…" class="headerlink" title="2.1.5 ~{…}"></a>2.1.5 ~{…}</h3><p>片段表达式~{}可以用来引用一段公共的 HTML 代码片段。</p>
<table>
<thead>
<tr>
<th style="text-align:center">语法</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">~{templatename}</td>
<td style="text-align:center">引用整个模板文件的代码片段</td>
</tr>
<tr>
<td style="text-align:center">~{templatename :: selector}</td>
<td style="text-align:center">selector 可以是 th:fragment 指定的名称或其他选择器。如类选择器、ID选择器等</td>
</tr>
<tr>
<td style="text-align:center">~{::selector}</td>
<td style="text-align:center">相当于 ~{this :: selector}，表示引用当前模板定义的代码片段</td>
</tr>
</tbody>
</table>
<p>在 Thymeleaf 模板文件中，你可以使用th:fragment属性来定义一段公共的代码片段，然后你可以通过使用th:insert、th:replace、th:include（Thymeleaf 3.0 开始不再推荐使用，本文也将不再介绍它）属性来将这些公共的代码片段引入到模板文件中来。<br>src/main/resources/templates/base.html，通过th:fragment属性定义一段公共的代码片段：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="built_in">id</span>=<span class="string">"footer"</span> th:fragment=<span class="string">"footerFragment"</span>&gt;&amp;<span class="keyword">copy</span>; <span class="number">2017</span> huangkai&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure>
<p>src/main/resources/templates/index.html，通过th:insert属性引用一段公共的代码片段：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> <span class="selector-tag">th</span>:insert=<span class="string">"~&#123;base :: footerFragment&#125;"</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中，~{}是可选的，我们可以去掉这层的包裹：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> <span class="selector-tag">th</span>:insert=<span class="string">"base :: footerFragment"</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>若 index.html 与 base.html 不在同级目录，如 templates/commons/base.html：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> <span class="selector-tag">th</span>:insert=<span class="string">"~&#123;commons/base :: footerFragment&#125;"</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>使用th:fragment属性定义代码片段时，你还可以声明一组参数：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:fragment</span>=<span class="string">"crumbs(parent, child)"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;parent&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> <span class="tag">&lt;<span class="name">i</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;child&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span>用户中心<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span>我的订单<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">--&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"::crumbs('用户中心', '我的订单')"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>此外，我们还可以通过类选择器、ID选择器等来引用公共的代码片段：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> <span class="selector-tag">th</span>:insert=<span class="string">"~&#123;base :: #footer&#125;"</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>除了th:insert属性th:replace也可以用来引用公共的代码片段。不同的是，th:insert是直接将代码片段插入到标签体内，而th:replace则是用代码片段直接替换标签体内容。<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>© 2017 huangkai<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">--&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"~</span></span></span><span class="template-variable">&#123;base :: footerFragment&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>© 2017 huangkai<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">--&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"~</span></span></span><span class="template-variable">&#123;base :: footerFragment&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-6-内置对象"><a href="#2-1-6-内置对象" class="headerlink" title="2.1.6 内置对象"></a>2.1.6 内置对象</h3><table>
<thead>
<tr>
<th style="text-align:center">对象</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">#ctx</td>
<td style="text-align:center">上下文对象</td>
</tr>
<tr>
<td style="text-align:center">#vars</td>
<td style="text-align:center">同 #ctx，表示上下文变量</td>
</tr>
<tr>
<td style="text-align:center">#locale</td>
<td style="text-align:center">上下文本地化（特定的地理区域）变量，可参考 java.util.Locale</td>
</tr>
<tr>
<td style="text-align:center">#request</td>
<td style="text-align:center">HttpServletRequest 对象，可参考 javax.servlet.http.HttpServletRequest</td>
</tr>
<tr>
<td style="text-align:center">#response</td>
<td style="text-align:center">HttpServletResponse 对象，可参考 javax.servlet.http.HttpServletResponse</td>
</tr>
<tr>
<td style="text-align:center">#session</td>
<td style="text-align:center">HttpSession 对象，可参考 javax.servlet.http.HttpSession</td>
</tr>
<tr>
<td style="text-align:center">#servletContext</td>
<td style="text-align:center">ServletContext 对象，可参考 javax.servlet.ServletContext</td>
</tr>
</tbody>
</table>
<h4 id="ctx示例："><a href="#ctx示例：" class="headerlink" title="#ctx示例："></a>#ctx示例：</h4><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- zh_CN --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">ctx.getLocale</span>()&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Welcome to BeiJing! --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">ctx.getVariable</span>('message')&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- true --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">ctx.containsVariable</span>('message')&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="vars示例："><a href="#vars示例：" class="headerlink" title="#vars示例："></a>#vars示例：</h4><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- zh_CN --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">vars.getLocale</span>()&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Welcome to BeiJing! --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">vars.getVariable</span>('message')&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- true --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">vars.containsVariable</span>('message')&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="locale示例："><a href="#locale示例：" class="headerlink" title="#locale示例："></a>#locale示例：</h4><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- zh_CN --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">locale</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- CN --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">locale.country</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 中国 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">locale.displayCountry</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- zh --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">locale.language</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 中文 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">locale.displayLanguage</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 中文 (中国) --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">locale.displayName</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="request示例："><a href="#request示例：" class="headerlink" title="#request示例："></a>#request示例：</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTTP/1.1 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.protocol&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- http --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.scheme&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- localhost --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.serverName&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 8080 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.serverPort&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- GET --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.method&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- /standard-expression-syntax/variables --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.requestURI&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- http://localhost:8080/standard-expression-syntax/variables --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.requestURL&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- /standard-expression-syntax/variables --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.servletPath&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- java.util.Collections$3@203646fe --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.parameterNames&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#123;q=[Ljava.lang.String;@3308c69f&#125; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.parameterMap&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- q=expression --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#request.queryString&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意，请求地址的 URL 参数直接通过#request.x是取不出来的，需要使用param.x语法来取出。如，URL：/standard-expression-syntax/variables?q=expression，取出 q 参数的正确姿势：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;param.q&#125;"</span>&gt;&lt;/p</span><br></pre></td></tr></table></figure></p>
<h4 id="response示例："><a href="#response示例：" class="headerlink" title="#response示例："></a>#response示例：</h4><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 200 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">response.status</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 8192 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">response.bufferSize</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- UTF-8 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">response.characterEncoding</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- text/html;charset=UTF-8 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">response.contentType</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="session示例："><a href="#session示例：" class="headerlink" title="#session示例："></a>#session示例：</h4><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 2BCB2A0EACFF2D9D249D9799431B5127 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">session.id</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 1499786693244 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">session.lastAccessedTime</span>&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- huangkai --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">session.getAttribute</span>('user').name&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>注意，放到会话里面的对象直接通过#session.x是取不出来的，需要使用session.x语法来取出。如，取出会话里面的 user 对象的正确姿势：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;session.user.name&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-7-工具类"><a href="#2-1-7-工具类" class="headerlink" title="2.1.7 工具类"></a>2.1.7 工具类</h3><table>
<thead>
<tr>
<th style="text-align:center">对象</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Messages.java" target="_blank" rel="noopener">#messages</a></td>
<td style="text-align:center">消息工具类，与 ＃{…} 作用相同</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Uris.java" target="_blank" rel="noopener">#uris</a></td>
<td style="text-align:center">地址相关的工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Conversions.java" target="_blank" rel="noopener">#conversions</a></td>
<td style="text-align:center">对象转换工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Dates.java" target="_blank" rel="noopener">#dates</a></td>
<td style="text-align:center">日期时间工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Calendars.java" target="_blank" rel="noopener">#calendars</a></td>
<td style="text-align:center">日历工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Numbers.java" target="_blank" rel="noopener">#numbers</a></td>
<td style="text-align:center">数字工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Strings.java" target="_blank" rel="noopener">#strings</a></td>
<td style="text-align:center">字符串工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Objects.java" target="_blank" rel="noopener">#objects</a></td>
<td style="text-align:center">对象工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Bools.java" target="_blank" rel="noopener">#bools</a></td>
<td style="text-align:center">布尔工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Arrays.java" target="_blank" rel="noopener">#arrays</a></td>
<td style="text-align:center">数组工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Lists.java" target="_blank" rel="noopener">#lists</a></td>
<td style="text-align:center">List 工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Sets.java" target="_blank" rel="noopener">#sets</a></td>
<td style="text-align:center">Set 工具类</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/thymeleaf/thymeleaf/blob/thymeleaf-3.0.5.RELEASE/src/main/java/org/thymeleaf/expression/Maps.java" target="_blank" rel="noopener">#maps</a></td>
<td style="text-align:center">Map 工具类</td>
</tr>
</tbody>
</table>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- false --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">strings.isEmpty</span>(message)&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 2017-07-27 14:37:25 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-tag">&#123;#<span class="name">dates.format</span>(now, 'yyyy-MM-dd HH:mm:ss')&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="2-2-字面值"><a href="#2-2-字面值" class="headerlink" title="2.2 字面值"></a>2.2 字面值</h2><p>所谓字面值，首先它不是一个变量，它是一个具体的确切的值，通常这些值是比较简单的，例如：18、’welcome’等，它们没有名称，以至于我们只能用值来称呼它们，因此我们称其为字面值。</p>
<h3 id="2-2-1-文字字面值"><a href="#2-2-1-文字字面值" class="headerlink" title="2.2.1 文字字面值"></a>2.2.1 文字字面值</h3><p>文字字面值是用单引号引起来的任何字符内容，如果字符内容里面含有单引号，则需要进行转义：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Welcome to BeiJing! --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"'Welcome to BeiJing!'"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 'Welcome to BeiJing!' --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"'\'Welcome to BeiJing!\''"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-2-数字字面值"><a href="#2-2-2-数字字面值" class="headerlink" title="2.2.2 数字字面值"></a>2.2.2 数字字面值</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 2017 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"2017"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 2018 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"2017 + 1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-3-布尔字面值"><a href="#2-2-3-布尔字面值" class="headerlink" title="2.2.3 布尔字面值"></a>2.2.3 布尔字面值</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- false --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"1 &gt; 2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 否 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"1 &gt; 2 ? '是' : '否'"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-4-空字面值"><a href="#2-2-4-空字面值" class="headerlink" title="2.2.4 空字面值"></a>2.2.4 空字面值</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- false --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;user == null&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-5-字面令牌"><a href="#2-2-5-字面令牌" class="headerlink" title="2.2.5 字面令牌"></a>2.2.5 字面令牌</h3><p>字面令牌（Literal Tokens）的内容只能含有（不能含有空格、特殊符号等）：</p>
<ul>
<li>大写或小写的字母、中文等不含空格和特殊符号的文本</li>
<li>0 到 9 的数字</li>
<li>中括号</li>
<li>下划线</li>
<li>连字符（-）</li>
<li>点符号（.）</li>
</ul>
<p>实际上，数字、布尔和空字面值都是字面令牌的特殊情况。字面令牌能够用来对标准表达式语法进行简化，我们可以将包裹它的内容的单引号去<br>掉：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"Welcome to BeiJing!"</span>&gt;&lt;/p&gt;</span><br><span class="line">它等效于：</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"'Welcome to BeiJing!'"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-3-文本操作"><a href="#2-3-文本操作" class="headerlink" title="2.3 文本操作"></a>2.3 文本操作</h2><p>我们可以对文本内容进行两种常用的操作，它们分别为字符串连接和字符串替换。</p>
<h3 id="2-3-1-字符串连接"><a href="#2-3-1-字符串连接" class="headerlink" title="2.3.1 字符串连接"></a>2.3.1 字符串连接</h3><p>不管是字面值还是表达式的结果，我们都可以使用+符号将它们连接起来：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- Welcome to BeiJing! --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"'Welcome to ' + $</span></span></span><span class="template-variable">&#123;location&#125;</span><span class="xml"><span class="tag"><span class="string"> + '!'"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-3-2-字面值替换"><a href="#2-3-2-字面值替换" class="headerlink" title="2.3.2 字面值替换"></a>2.3.2 字面值替换</h3><p>符号||可以用来将字面值和表达式包裹起来，这样就能方便的替换变量的值，而不需要使用+连接符：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- Welcome to BeiJing! --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"|Welcome to $</span></span></span><span class="template-variable">&#123;location&#125;</span><span class="xml"><span class="tag"><span class="string">!|"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-4-算术运算"><a href="#2-4-算术运算" class="headerlink" title="2.4 算术运算"></a>2.4 算术运算</h2><p>支持+（加）、-（减）、*（乘）、/（除）、%（模）运算：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 6 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"4 + 2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 2 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"4 - 2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 8 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"4 * 2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 2 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"4 / 2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 0 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"4 % 2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 2 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;pagination.page + 1&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 2 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;pagination.page&#125;</span><span class="xml"><span class="tag"><span class="string"> + 1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-5-布尔运算"><a href="#2-5-布尔运算" class="headerlink" title="2.5 布尔运算"></a>2.5 布尔运算</h2><p>支持and（且）、or（或）、!（非）、not（非）运算：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.online and user.vip&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.online or user.vip&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;!user.online&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;not user.online&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-6-比较和相等"><a href="#2-6-比较和相等" class="headerlink" title="2.6 比较和相等"></a>2.6 比较和相等</h2><p>支持&lt;（lt）、&gt;（gt）、&lt;=（le）、&gt;=（ge）、==（eq）、！=（ne）：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.age &lt; 60&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.age &lt;= 60&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.age &gt; 18&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.age &gt;= 18&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.age == 18&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.age != 18&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-7-条件运算"><a href="#2-7-条件运算" class="headerlink" title="2.7 条件运算"></a>2.7 条件运算</h2><p>三元运算符：(if) ? (then) : (else)<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.online ? '在线' : '离线'&#125;"</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;user.online ? (user.vip ? 'VIP用户在线' : '普通用户在线') : '离线'&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<p>二元运算符：(value) ?: (defaultValue)。<br>其中，value非空（null）即真，条件为真时输出value，否则输出defaultValue。假设token = null，user.email = <a href="mailto:huankai@139.com" target="_blank" rel="noopener">huankai@139.com</a><br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 你还没有登录，请先登录 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;token&#125;</span><span class="xml"><span class="tag"><span class="string"> ?: '你还没有登录，请先登录'"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- huankai@139.com --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;user.email&#125;</span><span class="xml"><span class="tag"><span class="string"> ?: '你还没有绑定邮箱'"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-8-无操作符"><a href="#2-8-无操作符" class="headerlink" title="2.8 无操作符"></a>2.8 无操作符</h2><p>当模板运行在服务器端时，Thymeleaf 会解析th:*属性的具体值替换标签体的内容。无操作符（_）则允许你使用原型标签体的内容作为默认值：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 你还没有登录，请先登录 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;token&#125;</span><span class="xml"><span class="tag"><span class="string"> ?: _"</span>&gt;</span>你还没有登录，请先登录<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h1 id="3-使用文本"><a href="#3-使用文本" class="headerlink" title="3. 使用文本"></a>3. 使用文本</h1><p>首先介绍两个最基础的th:*属th:text和th:utext，它们都是用于处理文本消息内容</p>
<h2 id="3-1-th-text"><a href="#3-1-th-text" class="headerlink" title="3.1 th:text"></a>3.1 th:text</h2><p>标签体中展示表达式评估结果的文本内容：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;message&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<p>使用外部化的文本内容：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;message&#125;"</span>&gt;Welcome to BeiJing!&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<p>当它作为静态文件直接运行时，浏览器会自动忽略它不能识别的th:text属性，而显示 p 标签体的文本内容Welcome to BeiJing!<br>当它作为模板文件运行在服务器端时，th:text属性的具体值将会替换 p 标签体的文本内容。</p>
<h2 id="3-2-th-utext"><a href="#3-2-th-utext" class="headerlink" title="3.2 th:utext"></a>3.2 th:utext</h2><p>属性th:utext与th:text的区别在于：</p>
<ul>
<li>th:text默认会对含有 HTML 标签的内容进行字符转义；</li>
<li>th:utext（Unescaped Text）则不会对含有 HTML 标签的内容进行字符转义；</li>
</ul>
<p>假设：message = “<b>Welcome to BeiJing!</b>“。<br>使用th:text属性：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;message&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<p>th:text效果：&lt;b&gt;Welcome to BeiJing!&lt;/b&gt;</p>
<p>使用th:utext属性：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:utext=<span class="string">"$&#123;message&#125;"</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<p>th:utext效果：<b>Welcome to BeiJing!</b></p>
<h1 id="4-设置属性值"><a href="#4-设置属性值" class="headerlink" title="4. 设置属性值"></a>4. 设置属性值</h1><p>在 Thymeleaf 模板文件中，你可以使用th:*（或者使用th:attr属性）来设置任意的 HTML5 标签属性的值。不仅如此，你还可以th:*-*来同时为多个不同的标签属性设置相同的一个值，甚至你可以使用th:attrappend和th:attrprepend来追加新的值到现有的标签属性值中。</p>
<h3 id="4-1-th-attr"><a href="#4-1-th-attr" class="headerlink" title="4.1 th:attr"></a>4.1 th:attr</h3><p>这种方式是不被推荐的，了解一下就行。下面是用th:attr=”href=…”来设置标签href属性的值：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">a</span> <span class="selector-tag">th</span>:attr=<span class="string">"href=@&#123;https://www.google.com.hk&#125;"</span>&gt;谷歌一下你就知道&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="4-2-th"><a href="#4-2-th" class="headerlink" title="4.2 th:*"></a>4.2 th:*</h3><p>显然th:attr=”href=@{<code>http://www.baidu.com</code>}”不够简洁，我们更推荐下面的这种语法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">a</span> <span class="selector-tag">th</span>:href=<span class="string">"@&#123;https://www.google.com.hk&#125;"</span>&gt;谷歌一下你就知道&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中th:*中的 * 可以是 HTML5 支持的任意属性名称，甚至这些属性名称可以是自定义的：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- &lt;div item-id="1001"&gt;Welcome to BeiJing!&lt;/div&gt; --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:item-id</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;user.id&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>Welcome to BeiJing!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-3-th"><a href="#4-3-th" class="headerlink" title="4.3 th:*-*"></a>4.3 th:*-*</h3><p>如果想要同时为标签的多个不同属性设置相同的一个值，可以使用th:*-*的语法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> src=<span class="string">"logo.png"</span> <span class="selector-tag">th</span>:alt-title=<span class="string">"LOGO图片"</span>&gt;</span><br></pre></td></tr></table></figure></p>
<p>它相当于：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> src=<span class="string">"logo.png"</span> <span class="selector-tag">th</span>:alt=<span class="string">"LOGO图片"</span> <span class="selector-tag">th</span>:title=<span class="string">"LOGO图片"</span>&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="4-4-th-attrappend-amp-th-attrprepend"><a href="#4-4-th-attrappend-amp-th-attrprepend" class="headerlink" title="4.4 th:attrappend &amp; th:attrprepend"></a>4.4 th:attrappend &amp; th:attrprepend</h3><p>th:attrappend和th:attrprepend可以将表达式的结果分别追加到指定的属性值之后和之前。<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- &lt;button class="btn enable"&gt;购买&lt;/button&gt; --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">th:attrappend</span>=<span class="string">"class=$</span></span></span><span class="template-variable">&#123;outOfStock&#125;</span><span class="xml"><span class="tag"><span class="string"> ? ' enable' : ' disable'"</span>&gt;</span>购买<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- &lt;button class="enable btn"&gt;购买&lt;/button&gt; --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">th:attrprepend</span>=<span class="string">"class=$</span></span></span><span class="template-variable">&#123;outOfStock&#125;</span><span class="xml"><span class="tag"><span class="string"> ? 'enable ' : 'disable '"</span>&gt;</span>购买<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>另外，还有两个常用的具体附加属性th:classappend=”…”和th:styleappend=””。<br>它们分别用来代替th:attrappend=”class=…”和th:attrappend=”style=…”。</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- &lt;button class="btn enable"&gt;购买&lt;/button&gt; --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">th:classappend</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;outOfStock&#125;</span><span class="xml"><span class="tag"><span class="string"> ? ' enable' : ' disable'"</span>&gt;</span>购买<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="4-5-布尔属性"><a href="#4-5-布尔属性" class="headerlink" title="4.5 布尔属性"></a>4.5 布尔属性</h3><p>在 HTML 中有些属性是布尔属性，布尔属性是指没有值的属性，如readonly、checked、selected等。它们若存在那就意味着值为 true。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"rememberme"</span> <span class="attr">checked</span> /&gt;</span> 记住我</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"male"</span> <span class="attr">checked</span>&gt;</span> 男</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"female"</span>&gt;</span> 女</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"appId"</span> <span class="attr">value</span>=<span class="string">"J123654"</span> <span class="attr">readonly</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>广州<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>Thymeleaf 也允许我们通过th:*（这里的*表示任意的布尔属性） 来选择是否使用这些布尔属性。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"rememberme"</span> ch:<span class="attribute">checked</span>=<span class="string">"<span class="variable">$&#123;rememberme&#125;</span>"</span> /&gt; 记住我</span><br></pre></td></tr></table></figure></p>
<p>正如你所见，如果表达式的结果为true，则自动勾选复选框，若为false，则不会自动勾选。</p>
<h1 id="5-遍历"><a href="#5-遍历" class="headerlink" title="5. 遍历"></a>5. 遍历</h1><p>遍历（迭代）的语法th:each=”自定义的元素变量名称 : ${集合变量名称}”：</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">spn</span>&gt;</span>你所在城市：<span class="tag">&lt;/<span class="name">spn</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"mycity"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">th:each</span>=<span class="string">"city : $</span></span></span><span class="template-variable">&#123;cities&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;city.name&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>属性th:each提供了一个用于跟踪迭代的状态变量，它包含以下几个属性：</p>
<table>
<thead>
<tr>
<th style="text-align:center">属性</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">index</td>
<td style="text-align:center">int</td>
<td style="text-align:center">当前迭代的索引，从 0 开始</td>
</tr>
<tr>
<td style="text-align:center">count</td>
<td style="text-align:center">int</td>
<td style="text-align:center">当前迭代的计数，从 1 开始</td>
</tr>
<tr>
<td style="text-align:center">size</td>
<td style="text-align:center">int</td>
<td style="text-align:center">集合中元素的总个数</td>
</tr>
<tr>
<td style="text-align:center">current</td>
<td style="text-align:center">int</td>
<td style="text-align:center">当前的元素对象</td>
</tr>
<tr>
<td style="text-align:center">even</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">当前迭代的计数是否是偶数</td>
</tr>
<tr>
<td style="text-align:center">odd</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">当前迭代的计数是否是奇数</td>
</tr>
<tr>
<td style="text-align:center">first</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">当前元素是否是集合的第一个元素</td>
</tr>
<tr>
<td style="text-align:center">last</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">当前元素是否是集合的最后一个元素</td>
</tr>
</tbody>
</table>
<p>状态变量的使用语法：th:each=”自定义的元素变量名称, 自定义的状态变量名称 : ${集合变量名称}”：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">spn</span>&gt;</span>所在城市：<span class="tag">&lt;/<span class="name">spn</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"mycity"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">th:each</span>=<span class="string">"city, status : $</span></span></span><span class="template-variable">&#123;cities&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;city.name&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">th:item-index</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;status.count&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>不管什么时候，Thymeleaf 始终会为每个th:each创建一个状态变量，默认的状态变量名称就是自定义的元素变量名称后面加Stat字符串组成：<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">spn</span>&gt;</span>所在城市：<span class="tag">&lt;/<span class="name">spn</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"mycity"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">th:each</span>=<span class="string">"city : $</span></span></span><span class="template-variable">&#123;cities&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">th:text</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;city.name&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">th:item-index</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;cityStat.count&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h1 id="6-条件判断"><a href="#6-条件判断" class="headerlink" title="6. 条件判断"></a>6. 条件判断</h1><p>条件判断语句有三种，分别是：th:if、th:unless、th:swith。</p>
<h2 id="6-1-th-if"><a href="#6-1-th-if" class="headerlink" title="6.1 th:if"></a>6.1 th:if</h2><p>当表达式的评估结果为真时则显示内容，否则不显示：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">a</span> <span class="selector-tag">th</span>:href=<span class="string">"@&#123;/user/order(uid=$&#123;user.id&#125;)&#125;"</span> <span class="selector-tag">th</span>:<span class="keyword">if</span>=<span class="string">"$&#123;user != null&#125;"</span>&gt;我的订单&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p>真假评估的依据：</p>
<ul>
<li>当表达式的值不为空（null）时<ul>
<li>如果表达式的值是一个布尔类型，且值为true评估为真，否则为假</li>
<li>如果表达式的值是一个数字类型，且值为非0评估为真，否则为假</li>
<li>如果表达式的值是一个字符类型，且值为非0评估为真，否则为假</li>
<li>如果表达式的值是一个字符串类型，且值为非”false”、”off”、”no”评估为真，否则为假</li>
<li>如果表达式的值不是一个布尔、数字、字符或字符串评估为真</li>
</ul>
</li>
<li>当表达式的值为空（null）时，评估结果为假</li>
</ul>
<p>因此，上面代码我们也可以简写成：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">a</span> <span class="selector-tag">th</span>:href=<span class="string">"@&#123;/user/order(uid=$&#123;user.id&#125;)&#125;"</span> <span class="selector-tag">th</span>:<span class="keyword">if</span>=<span class="string">"$&#123;user&#125;"</span>&gt;我的订单&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<p>但是，为了代码的可读性，我们并不建议这样使用。</p>
<h2 id="6-2-th-unless"><a href="#6-2-th-unless" class="headerlink" title="6.2 th:unless"></a>6.2 th:unless</h2><p>th:unless与th:if判断恰好相反，当表达式的评估结果为假时则显示内容，否则不显示：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">a</span> <span class="selector-tag">th</span>:href=<span class="string">"@&#123;/user/order(uid=$&#123;user.id&#125;)&#125;"</span> <span class="selector-tag">th</span>:unless=<span class="string">"$&#123;user == null&#125;"</span>&gt;我的订单&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="6-3-th-swith"><a href="#6-3-th-swith" class="headerlink" title="6.3 th:swith"></a>6.3 th:swith</h2><p>多路选择语句，它需要搭配th:case来使用：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> <span class="selector-tag">th</span>:switch=<span class="string">"$&#123;user.role&#125;"</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:case=<span class="string">"admin"</span>&gt;管理员&lt;/p&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:case=<span class="string">"user"</span>&gt;普通用户&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h1 id="7-定义局部变量"><a href="#7-定义局部变量" class="headerlink" title="7. 定义局部变量"></a>7. 定义局部变量</h1><p>使用th:with属性可以定义局部变量：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:with=<span class="string">"name='fanlychie'"</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">span</span> <span class="selector-tag">th</span>:text=<span class="string">"$&#123;name&#125;"</span>&gt;&lt;/span&gt;</span><br><span class="line">&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<p>同时定义多个局部变量时，用英文,号分隔开：</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;p th:<span class="keyword">with</span>=<span class="string">"name=$&#123;user.name&#125;,age=&#123;user.age&#125;"</span>&gt;</span><br><span class="line">    ......</span><br><span class="line">&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h1 id="8-注释"><a href="#8-注释" class="headerlink" title="8. 注释"></a>8. 注释</h1><p>下面介绍常见的两种注释：</p>
<h2 id="8-1-标准注释"><a href="#8-1-标准注释" class="headerlink" title="8.1 标准注释"></a>8.1 标准注释</h2><p>语法：<code>&lt;!-- ... ---&gt;</code>，注释的代码块会在文件源代码中显示出来。</p>
<h3 id="8-1-1-单行注释"><a href="#8-1-1-单行注释" class="headerlink" title="8.1.1 单行注释"></a>8.1.1 单行注释</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- &lt;span&gt;$</span></span><span class="template-variable">&#123;message&#125;</span><span class="xml"><span class="comment">&lt;/span&gt; ---&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="8-1-2-多行注释"><a href="#8-1-2-多行注释" class="headerlink" title="8.1.2 多行注释"></a>8.1.2 多行注释</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">&lt;<span class="selector-tag">div</span> <span class="selector-tag">th</span>:switch=<span class="string">"$&#123;user.role&#125;"</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:case=<span class="string">"admin"</span>&gt;管理员&lt;/p&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span> <span class="selector-tag">th</span>:case=<span class="string">"user"</span>&gt;普通用户&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">---&gt;</span><br></pre></td></tr></table></figure>
<h2 id="8-2-解析器级注释"><a href="#8-2-解析器级注释" class="headerlink" title="8.2 解析器级注释"></a>8.2 解析器级注释</h2><p>语法：<code>&lt;!--/* ... */--&gt;</code>，注释的代码块会在引擎解析的时候抹去。</p>
<h3 id="8-2-1-单行注释："><a href="#8-2-1-单行注释：" class="headerlink" title="8.2.1 单行注释："></a>8.2.1 单行注释：</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--/* &lt;span&gt;$</span></span><span class="template-variable">&#123;message&#125;</span><span class="xml"><span class="comment">&lt;/span&gt; */--&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="8-2-2-多行注释"><a href="#8-2-2-多行注释" class="headerlink" title="8.2.2 多行注释"></a>8.2.2 多行注释</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--/*--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:switch</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;user.role&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"admin"</span>&gt;</span>管理员<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"user"</span>&gt;</span>普通用户<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--*/--&gt;</span></span></span><br></pre></td></tr></table></figure>
<h1 id="9-内联表达式"><a href="#9-内联表达式" class="headerlink" title="9. 内联表达式"></a>9. 内联表达式</h1><p>内联表达式允许我们直接在 HTML 文本中使用标准表达式，而不需要使用th:*标签属性。</p>
<h2 id="9-1-…"><a href="#9-1-…" class="headerlink" title="9.1 [[…]]"></a>9.1 [[…]]</h2><p>[[]]相当于th:text，对含有 HTML 标签的内容自动进行字符转义。<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;The message is : <span class="string">[[$&#123;htmlContent&#125;]]</span>&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="9-2-…"><a href="#9-2-…" class="headerlink" title="9.2 [(…)]"></a>9.2 [(…)]</h2><p>[()]相当于th:utext，对含有 HTML 标签的内容不进行字符转义。<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The message is : [($</span><span class="template-variable">&#123;htmlContent&#125;</span><span class="xml">)]<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="9-3-th-inline"><a href="#9-3-th-inline" class="headerlink" title="9.3 th:inline"></a>9.3 th:inline</h2><p>我们已经了解到，使用[[]]和[()]语法可以直接在 HTML 文本中使用标准表达式，如果想要使用更多高级的功能，需要使用th:inline属性来激活，它的取值如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">值</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">none</td>
<td style="text-align:center">禁止内联表达式，可以原样输出 [[]] 和 [()] 字符串</td>
</tr>
<tr>
<td style="text-align:center">text</td>
<td style="text-align:center">文本内联，可以使用 th:each 等高级语法</td>
</tr>
<tr>
<td style="text-align:center">css</td>
<td style="text-align:center">样式内联，如：<code>&lt;style th:inline=&quot;css&quot;</code>&gt;</td>
</tr>
<tr>
<td style="text-align:center">javascript</td>
<td style="text-align:center">脚本内联，如：<code>&lt;style th:inline=&quot;javascript&quot;&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="9-3-1-none"><a href="#9-3-1-none" class="headerlink" title="9.3.1 none"></a>9.3.1 none</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- [[1, 2], [3, 4]] --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:inline</span>=<span class="string">"none"</span>&gt;</span>[[1, 2], [3, 4]]<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="9-3-2-text"><a href="#9-3-2-text" class="headerlink" title="9.3.2 text"></a>9.3.2 text</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 北京 上海 广州 深圳 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:inline</span>=<span class="string">"text"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    [# th:each="city : $</span><span class="template-variable">&#123;cities&#125;</span><span class="xml">"]</span></span><br><span class="line"><span class="xml">        [($</span><span class="template-variable">&#123;city.name&#125;</span><span class="xml">)]</span></span><br><span class="line"><span class="xml">    [/]</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="9-3-3-css"><a href="#9-3-3-css" class="headerlink" title="9.3.3 css"></a>9.3.3 css</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">th:inline</span>=<span class="string">"css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span>:<span class="selector-attr">[[$&#123;bgColor&#125;]</span>];</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="9-3-4-javascript"><a href="#9-3-4-javascript" class="headerlink" title="9.3.4 javascript"></a>9.3.4 javascript</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">    var user = [[$</span><span class="template-variable">&#123;user&#125;</span><span class="xml">]];</span></span><br><span class="line"><span class="xml">    alert("用户名：" + user.name);</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>参考文档文献链接 : <a href="http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html" target="_blank" rel="noopener">http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</a></p>
</div><div class="tags"><a href="/tags/Thymeleaf/">Thymeleaf</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/02/22/Svn服务器搭建/" class="next">Linux Svn 服务器搭建</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-创建模板文件"><span class="toc-text">1. 创建模板文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-标准表达式语法"><span class="toc-text">2. 标准表达式语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-简单表达式"><span class="toc-text">2.1 简单表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-…"><span class="toc-text">2.1.1 ${…}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-…"><span class="toc-text">2.1.2 *{…}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-…"><span class="toc-text">2.1.3 #{…}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-…"><span class="toc-text">2.1.4 @{…}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-5-…"><span class="toc-text">2.1.5 ~{…}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-6-内置对象"><span class="toc-text">2.1.6 内置对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ctx示例："><span class="toc-text">#ctx示例：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vars示例："><span class="toc-text">#vars示例：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#locale示例："><span class="toc-text">#locale示例：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#request示例："><span class="toc-text">#request示例：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#response示例："><span class="toc-text">#response示例：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#session示例："><span class="toc-text">#session示例：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-7-工具类"><span class="toc-text">2.1.7 工具类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-字面值"><span class="toc-text">2.2 字面值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-文字字面值"><span class="toc-text">2.2.1 文字字面值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-数字字面值"><span class="toc-text">2.2.2 数字字面值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-布尔字面值"><span class="toc-text">2.2.3 布尔字面值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-空字面值"><span class="toc-text">2.2.4 空字面值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-字面令牌"><span class="toc-text">2.2.5 字面令牌</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-文本操作"><span class="toc-text">2.3 文本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-字符串连接"><span class="toc-text">2.3.1 字符串连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-字面值替换"><span class="toc-text">2.3.2 字面值替换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-算术运算"><span class="toc-text">2.4 算术运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-布尔运算"><span class="toc-text">2.5 布尔运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-比较和相等"><span class="toc-text">2.6 比较和相等</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-条件运算"><span class="toc-text">2.7 条件运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-无操作符"><span class="toc-text">2.8 无操作符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-使用文本"><span class="toc-text">3. 使用文本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-th-text"><span class="toc-text">3.1 th:text</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-th-utext"><span class="toc-text">3.2 th:utext</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-设置属性值"><span class="toc-text">4. 设置属性值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-th-attr"><span class="toc-text">4.1 th:attr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-th"><span class="toc-text">4.2 th:*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-th"><span class="toc-text">4.3 th:*-*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-th-attrappend-amp-th-attrprepend"><span class="toc-text">4.4 th:attrappend &amp; th:attrprepend</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-布尔属性"><span class="toc-text">4.5 布尔属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-遍历"><span class="toc-text">5. 遍历</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-条件判断"><span class="toc-text">6. 条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-th-if"><span class="toc-text">6.1 th:if</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-th-unless"><span class="toc-text">6.2 th:unless</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-th-swith"><span class="toc-text">6.3 th:swith</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-定义局部变量"><span class="toc-text">7. 定义局部变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-注释"><span class="toc-text">8. 注释</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-标准注释"><span class="toc-text">8.1 标准注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-1-单行注释"><span class="toc-text">8.1.1 单行注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-2-多行注释"><span class="toc-text">8.1.2 多行注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-解析器级注释"><span class="toc-text">8.2 解析器级注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-1-单行注释："><span class="toc-text">8.2.1 单行注释：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-2-多行注释"><span class="toc-text">8.2.2 多行注释</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-内联表达式"><span class="toc-text">9. 内联表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-…"><span class="toc-text">9.1 [[…]]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-…"><span class="toc-text">9.2 [(…)]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3-th-inline"><span class="toc-text">9.3 th:inline</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-1-none"><span class="toc-text">9.3.1 none</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-2-text"><span class="toc-text">9.3.2 text</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-3-css"><span class="toc-text">9.3.3 css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-4-javascript"><span class="toc-text">9.3.4 javascript</span></a></li></ol></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Thymeleaf_01/">Thymeleaf 教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Svn服务器搭建/">Linux Svn 服务器搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Spring-boot_01/">Spring Boot 快速入门 - 1 分钟搭建 Web 应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Spring Boot_02/">Spring Boot 添加 Thymeleaf 支持</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/SecureCRT_8_1/">SecureCRT 8.1 安装与破解</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Redis_05_事务/">Redis 事务</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Redis_04_发布与订阅/">Redis 发布与订阅</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Redis_03_持久化/">Redis 持久化</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Redis_02_配置文件/">Redis配置文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/22/Redis_01_安装教程/">Redis安装</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Idea/" style="font-size: 15px;">Idea</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/MySql/" style="font-size: 15px;">MySql</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/JPA/" style="font-size: 15px;">JPA</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Tool/" style="font-size: 15px;">Tool</a> <a href="/tags/Spring-Boot/" style="font-size: 15px;">Spring-Boot</a> <a href="/tags/Svn/" style="font-size: 15px;">Svn</a> <a href="/tags/Thymeleaf/" style="font-size: 15px;">Thymeleaf</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Huangkai.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>